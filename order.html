{{extend 'layout.html'}}

<style>
.button {
  border: none;
  color: black;
  width: 240px;
  height: 50px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  font-weight: 600;
  margin: 4px 4px;
  cursor: pointer;
}
</style>


<div style="background-color: #333; color:white; margin:6px; padding:6px;word-wrap:break-word;">
  <div class="container center">
      <!-- display next delivery date -->
      <div>{{=message}}</div>
  </div>
</div>

<div class="container center">
<button id="submit1" class='button' style='font-size:14px;font-weight:bold'>Click to transfer items to cart</button>
</div>

<!-- generate html elements for each product in products table and layout using bootstrap -->
<div class="container">
    <div class="row">
        {{for row in rows:}}
        <div class="col-sm-6 col-lg-4 col-xl-3">
            <div style="text-align:center;margin-bottom:12px">
                <div style="font-size:14px; font-weight:bold">{{=row.name}}</div>
                <div style="font-size:14px">{{=row.description}}</div>
                <div style="font-size:14px"><span>Est market price ${{=row.est_price}}</span><span> per </span>{{=row.unit}}</div>
                <button id="minus" class = "jsminusbtn" style="font-size:16px; font-weight:bold">-</button>
                <input type="number" class = "jsinput" value="0" id="input" style="font-size:14px;font-weight:bold;text-align:center;width:100px;margin:2px"/>
                <button id="plus" class = "jsplusbtn" style="font-size:16px; font-weight:bold">+</button>
            </div>
        </div>
        {{pass}}
    </div>
</div>
<div class="container center">
<button id = "submit2" class='button' style='margin:12px;font-size:14px;font-weight:bold'>Click to transfer items to cart</button>
</div>

<!-- change the id of various html elements so that they are unique -->
<script>
var buttons = document.getElementsByClassName('jsminusbtn');
for(var i=0; i<buttons.length; i++){
    i_plus_1 = i + 1
    const newname = "minus" + i_plus_1;
    buttons[i].setAttribute("id", newname);
}
var buttons = document.getElementsByClassName('jsplusbtn');
for(var i=0; i<buttons.length; i++){
    i_plus_1 = i + 1
    const newname = "plus" + i_plus_1;
    buttons[i].setAttribute("id", newname);
}
var inputs = document.getElementsByClassName('jsinput');
for(var i=0; i<inputs.length; i++){
    i_plus_1 = i + 1
    const newname = "input" + i_plus_1;
    inputs[i].setAttribute("id", newname);
}
</script>

<!-- import js generated by order() function -->
{{=XML(js)}}
